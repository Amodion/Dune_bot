# ДюнаБот

## Описание

Это телеграм бот, написанный с помощью библиотеки telebot и развернут через Flask с хостом на pythonanywhere.com

Он создан для текстовой игры в телеграме по системе **Дюна: Приключения в Империи**

## Приминение

Для работы из строки напиши "@" и выбери бота *duneTTRPG_bot*. Дальше начни писать запрос как описано ниже.
И в появившемся окне выбери вариант Roll.

А вот как создавать запрос:

Основная команда всегда начинается на число, обычно от 8 до 16 - это порог успеха.

Просто напиши так и бот скажет, сколько ты получил успехов!
Это обязательный минимум, но можно последовательно добавить еще параметры.
Полный синтаксис выглядит вот так:

```@duneTTRPG_bot T nX cY dZ rV !```

  *T* - порог успеха
  *X* - число кубиков, если не указано, то будет 2
  *Y* - значение при котором засчитывается критический успех. По умолчанию 1.
  *Z* - сложность проверки, если указана, то бот скажет, прошел ли ты ее и сколько создал Импульса, если создал.
  *V* - Минималное число, при котором ты получишь затруднение. По умолчанию 20

Маленькие буквы n, c, d, r - это обязательные "флаги" перед соответствующими числовыми значениями.

Флаг "!" обозначает, что на бросок потрачено очко Решимости и один кубик сразу будет стоять на 1.

Примеры запросов:

```@duneTTRPG_bot 14``` - бросок 2-х кубиков с порогом 14. Выведет только количество успехов.

```@duneTTRPG_bot 14 c5``` - бросок 2-х кубиков с порогом 14, с учетом специализаии криты будут на 5 и ниже. Выведет только количество успехов.

```@duneTTRPG_bot 13 n3 !``` - бросок 3-х кубиков с порогом 14. На бросок потрачено Очко Решимости, первый кубик автоматически будет стоять на 1 в результате.

```@duneTTRPG_bot 15 n4 c6 d3 r18 ! ``` - бросок 4-х кубиков с порогом 15, первый будет сразу стоять на 1. Криты будут засчитываться на 6 и меньше. Сложность броска 3, бот скажет, пройдена ли проверка и сколко создано Импульса, если создано. При этом затруднения возникают на результат 18 и выше.

Так же ты всегда можешь получить сравку по запросу ```@duneTTRPG_bot help```

## ВАЖНОЕ!

На данный момент корректность запроса с точки зрения игровой механики не проверяется! Так что будтье аккуратны при написании запроса. Ниже приведены ограничения, которых стоит придерживаться:

1. Порог успеха (T) - может лежать в диапазоне от 8 до 16

2. Число кубиков (X) - От 2 до 5

3. Порог критического успеха (Y) - от 1 до 8

4. Сложность проверки (Z) - от 0 до 5, если устанавливет ведущий. В рамках состязания может быть больше.

5. Диапазон затруднений (V) - Бот использует именно минимальное значение на кубике, при котором появится затруднение. От 20 до 16

## Пример работы

После нажатия на вариант Roll в появившемся окне, где продублируется ваш запрос, бот отправит в чат от вашего имени сообщение, содержащее результат. Например, на запрос ```@duneTTRPG_bot 15 n4 c6 d3 r18 ! ``` результат может выглядеть так:

--------------------------------------
**Успехов: 6!**\
**ПРОЙДЕНО!**\
Создано Очков Импульса: 3

Порог: 15, Криты на: 6, Сложность: 3\
Бросок: [1, 10, 15, 5]

--------------------------------------

## Случайные значения

Бот использует Python библиотку random для генерации случайных чисел в диапазоне от 1 до 20 для определения результата каждого кубика

## Ссылки

Бот в ТГ: https://t.me/duneTTRPG_bot

Группа, где можно найти игроков, мастера или просто пообщаться на тему игры: https://t.me/DUNE_RPG